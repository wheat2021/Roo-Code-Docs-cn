# 提示工程技巧

提示工程是一门为像 Roo Code 这样的人工智能模型精心设计有效指令的艺术。编写良好的提示可以带来更好的结果、更少的错误和更高效的工作流程。

---

##通用原则

*   **清晰具体：** 明确说明你希望 Roo Code做什么。避免含糊不清。
    *   **不好的例子：** 修复代码。
    *   **好的例子：** 修复 `calculateTotal` 函数中导致其返回不正确结果的错误。

*   **提供上下文：** 使用[上下文提及](/basic-usage/context-mentions)来引用特定的文件、文件夹或问题。
    *   **好的例子：** `@/src/utils.ts` 将 `calculateTotal` 函数重构为使用 async/await。

*   **分解任务：** 将复杂的任务分解成更小、定义明确的步骤。

*   **提供示例：** 如果你心中有特定的编码风格或模式，请提供示例。

*   **指定输出格式：** 如果你需要特定格式（例如 JSON、Markdown）的输出，请在提示中指明。

*   **迭代：** 如果初步结果不符合你的预期，不要害怕优化你的提示。

---

## 思考与执行

引导 Roo Code 完成“先思考后执行”的过程通常很有帮助：

1.  **分析：** 要求 Roo Code 分析当前代码、识别问题或规划方法。
2.  **规划：** 让 Roo Code 概述它将为完成任务而采取的步骤。
3.  **执行：** 指示 Roo Code 一步一步地实施计划。
4.  **审查：** 在继续下一步之前，仔细审查每一步的结果。

---

## 使用自定义指令

你可以提供自定义指令来进一步定制 Roo Code 的行为。有两种类型的自定义指令：

*   **全局自定义指令：** 适用于所有模式。
*   **特定模式的自定义指令：** 仅适用于特定模式（例如，代码、架构师、提问、调试或自定义模式）。

自定义指令会添加到系统提示中，为人工智能模型提供持久的指导。你可以使用这些指令来：

*   强制执行编码风格指南。
*   指定首选的库或框架。
*   定义项目特定的约定。
*   调整 Roo Code 的语气或个性。

更多详情请参阅[自定义指令](/features/custom-instructions)部分。

---

## 处理模糊性

如果你的请求含糊不清或缺乏足够的细节，Roo Code 可能会：

*   **做出假设：** 它可能会根据自己的最佳猜测继续进行，这可能不是你想要的。
*   **提出后续问题：** 它可能会使用 `ask_followup_question` 工具来澄清你的请求。

通常最好从一开始就提供清晰具体的指令，以避免不必要的来回沟通。

---

## 提供反馈

如果 Roo Code 没有产生预期的结果，你可以通过以下方式提供反馈：

*   **拒绝操作：** 当 Roo Code 提出你不想执行的操作时，点击“拒绝”按钮。
*   **提供解释：** 拒绝时，请解释你拒绝该操作的*原因*。这有助于 Roo Code 从错误中学习。
*   **重新措辞你的请求：** 尝试换一种方式表述你最初的任务或提供更具体的指令。
*   **手动修正：** 如果只有一些小问题，你也可以在接受更改前直接修改代码。

---

## 示例

**好的提示：**

> `@/src/components/Button.tsx` 将 `Button` 组件重构为使用 `useState` 钩子，而不是 `useReducer` 钩子。

**不好的提示：**

> 修复那个按钮。

**好的提示：**

> 创建一个名为 `utils.py` 的新文件，并添加一个名为 `calculate_average` 的函数，该函数接受一个数字列表并返回它们的平均值。

**不好的提示：**

> 写一些 Python 代码。

**好的提示：**

> `@problems` 解决当前文件中的所有错误和警告。

**不好的提示：**

> 修复所有问题。

遵循这些技巧，你可以编写出有效的提示，从而充分利用 Roo Code 的功能。
